2022-10-28 00:01:58.472 +03:00 [INF] Starting host
2022-10-28 00:01:59.004 +03:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: Microsoft.Extensions.Hosting.IHostedService Lifetime: Singleton ImplementationType: TelegramModularFramework.Sample.CommandHandler': Unable to resolve service for type 'TelegramModularFramework.Services.TelegramCommandService' while attempting to activate 'TelegramModularFramework.Sample.CommandHandler'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.Extensions.Hosting.IHostedService Lifetime: Singleton ImplementationType: TelegramModularFramework.Sample.CommandHandler': Unable to resolve service for type 'TelegramModularFramework.Services.TelegramCommandService' while attempting to activate 'TelegramModularFramework.Sample.CommandHandler'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'TelegramModularFramework.Services.TelegramCommandService' while attempting to activate 'TelegramModularFramework.Sample.CommandHandler'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework.Sample\Program.cs:line 21
2022-10-28 00:02:37.454 +03:00 [INF] Starting host
2022-10-28 00:02:38.705 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 00:02:44.119 +03:00 [INF] Starting host
2022-10-28 00:27:28.731 +03:00 [INF] Starting host
2022-10-28 00:27:29.151 +03:00 [INF] Test
2022-10-28 08:18:06.656 +03:00 [INF] Starting host
2022-10-28 08:18:07.953 +03:00 [FTL] Host terminated unexpectedly
System.NotSupportedException: Derived classes must provide an implementation.
   at System.Reflection.MethodBase.GetGenericArguments()
   at TelegramModularFramework.Services.TelegramCommandService..ctor(IServiceProvider provider) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework\Services\TelegramCommandService.cs:line 11
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Program.<Main>$(String[] args) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework.Sample\Program.cs:line 34
2022-10-28 08:21:05.736 +03:00 [INF] Starting host
2022-10-28 08:21:06.891 +03:00 [FTL] Host terminated unexpectedly
System.NullReferenceException: Object reference not set to an instance of an object.
   at lambda_method1(Closure , IServiceProvider , Object[] )
   at TelegramModularFramework.Services.TelegramCommandService..ctor(IServiceProvider provider) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework\Services\TelegramCommandService.cs:line 12
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Program.<Main>$(String[] args) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework.Sample\Program.cs:line 34
2022-10-28 08:22:14.058 +03:00 [INF] Starting host
2022-10-28 08:22:15.089 +03:00 [FTL] Host terminated unexpectedly
System.NotSupportedException: Derived classes must provide an implementation.
   at System.Reflection.MethodBase.GetGenericArguments()
   at TelegramModularFramework.Services.TelegramCommandService..ctor(IServiceProvider provider) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework\Services\TelegramCommandService.cs:line 11
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Program.<Main>$(String[] args) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework.Sample\Program.cs:line 34
2022-10-28 08:23:24.339 +03:00 [INF] Starting host
2022-10-28 08:23:25.535 +03:00 [FTL] Host terminated unexpectedly
System.IndexOutOfRangeException: Index was outside the bounds of the array.
   at lambda_method1(Closure , IServiceProvider , Object[] )
   at TelegramModularFramework.Services.TelegramCommandService..ctor(IServiceProvider provider) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework\Services\TelegramCommandService.cs:line 12
   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)
   at System.Reflection.RuntimeConstructorInfo.Invoke(BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitIEnumerable(IEnumerableCallSite enumerableCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(Type serviceType)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetService[T](IServiceProvider provider)
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Program.<Main>$(String[] args) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework.Sample\Program.cs:line 34
2022-10-28 08:26:32.328 +03:00 [INF] Starting host
2022-10-28 09:37:12.260 +03:00 [INF] Starting host
2022-10-28 09:37:15.436 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 09:37:51.493 +03:00 [INF] Starting host
2022-10-28 09:51:22.860 +03:00 [INF] Starting host
2022-10-28 09:51:45.361 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 09:52:02.789 +03:00 [INF] Starting host
2022-10-28 10:13:24.533 +03:00 [INF] Starting host
2022-10-28 10:13:26.091 +03:00 [FTL] Host terminated unexpectedly
System.NullReferenceException: Object reference not set to an instance of an object.
   at TelegramModularFramework.Services.TelegramCommandService.AddModules(Assembly assembly) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework\Services\TelegramCommandService.cs:line 35
   at TelegramModularFramework.Sample.CommandHandler.ExecuteAsync(CancellationToken stoppingToken) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework.Sample\CommandHandler.cs:line 26
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Program.<Main>$(String[] args) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework.Sample\Program.cs:line 34
2022-10-28 10:13:44.084 +03:00 [INF] Starting host
2022-10-28 10:13:45.341 +03:00 [FTL] Host terminated unexpectedly
System.NullReferenceException: Object reference not set to an instance of an object.
   at TelegramModularFramework.Services.TelegramCommandService.AddModules(Assembly assembly) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework\Services\TelegramCommandService.cs:line 35
   at TelegramModularFramework.Sample.CommandHandler.ExecuteAsync(CancellationToken stoppingToken) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework.Sample\CommandHandler.cs:line 26
   at Microsoft.Extensions.Hosting.Internal.Host.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Microsoft.Extensions.Hosting.HostingAbstractionsHostExtensions.RunAsync(IHost host, CancellationToken token)
   at Program.<Main>$(String[] args) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework.Sample\Program.cs:line 34
2022-10-28 10:14:16.941 +03:00 [INF] Starting host
2022-10-28 10:43:25.553 +03:00 [INF] Starting host
2022-10-28 10:45:18.107 +03:00 [ERR] BackgroundService failed
Telegram.Bot.Exceptions.RequestException: Request timed out
 ---> System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Telegram.Bot.TelegramBotClient.<MakeRequestAsync>g__SendRequestAsync|21_0[TResponse](HttpClient httpClient, HttpRequestMessage httpRequest, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Telegram.Bot.TelegramBotClient.<MakeRequestAsync>g__SendRequestAsync|21_0[TResponse](HttpClient httpClient, HttpRequestMessage httpRequest, CancellationToken cancellationToken)
   at Telegram.Bot.TelegramBotClient.MakeRequestAsync[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at Telegram.Bot.TelegramBotClientExtensions.GetMeAsync(ITelegramBotClient botClient, CancellationToken cancellationToken)
   at TelegramModularFramework.Services.TelegramBotHostedService.ExecuteAsync(CancellationToken stoppingToken) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework\Services\TelegramBotHostedService.cs:line 32
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2022-10-28 10:45:18.267 +03:00 [FTL] The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.
Telegram.Bot.Exceptions.RequestException: Request timed out
 ---> System.Threading.Tasks.TaskCanceledException: The request was canceled due to the configured HttpClient.Timeout of 100 seconds elapsing.
 ---> System.TimeoutException: A task was canceled.
 ---> System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.GetHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   --- End of inner exception stack trace ---
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpClient.HandleFailure(Exception e, Boolean telemetryStarted, HttpResponseMessage response, CancellationTokenSource cts, CancellationToken cancellationToken, CancellationTokenSource pendingRequestsCts)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Telegram.Bot.TelegramBotClient.<MakeRequestAsync>g__SendRequestAsync|21_0[TResponse](HttpClient httpClient, HttpRequestMessage httpRequest, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Telegram.Bot.TelegramBotClient.<MakeRequestAsync>g__SendRequestAsync|21_0[TResponse](HttpClient httpClient, HttpRequestMessage httpRequest, CancellationToken cancellationToken)
   at Telegram.Bot.TelegramBotClient.MakeRequestAsync[TResponse](IRequest`1 request, CancellationToken cancellationToken)
   at Telegram.Bot.TelegramBotClientExtensions.GetMeAsync(ITelegramBotClient botClient, CancellationToken cancellationToken)
   at TelegramModularFramework.Services.TelegramBotHostedService.ExecuteAsync(CancellationToken stoppingToken) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework\Services\TelegramBotHostedService.cs:line 32
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2022-10-28 11:21:13.370 +03:00 [INF] Starting host
2022-10-28 11:21:14.278 +03:00 [FTL] Host terminated unexpectedly
System.AggregateException: Some services are not able to be constructed (Error while validating the service descriptor 'ServiceType: TelegramModularFramework.Services.TelegramCommandService Lifetime: Singleton ImplementationType: TelegramModularFramework.Services.TelegramCommandService': Unable to resolve service for type 'TelegramModularFramework.Services.TelegramBotHostedService' while attempting to activate 'TelegramModularFramework.Services.TelegramCommandService'.) (Error while validating the service descriptor 'ServiceType: Microsoft.Extensions.Hosting.IHostedService Lifetime: Singleton ImplementationType: TelegramModularFramework.Sample.CommandHandler': Unable to resolve service for type 'TelegramModularFramework.Services.TelegramBotHostedService' while attempting to activate 'TelegramModularFramework.Services.TelegramCommandService'.)
 ---> System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: TelegramModularFramework.Services.TelegramCommandService Lifetime: Singleton ImplementationType: TelegramModularFramework.Services.TelegramCommandService': Unable to resolve service for type 'TelegramModularFramework.Services.TelegramBotHostedService' while attempting to activate 'TelegramModularFramework.Services.TelegramCommandService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'TelegramModularFramework.Services.TelegramBotHostedService' while attempting to activate 'TelegramModularFramework.Services.TelegramCommandService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionContainerBuilderExtensions.BuildServiceProvider(IServiceCollection services, ServiceProviderOptions options)
   at Microsoft.Extensions.DependencyInjection.DefaultServiceProviderFactory.CreateServiceProvider(IServiceCollection containerBuilder)
   at Microsoft.Extensions.Hosting.Internal.ServiceFactoryAdapter`1.CreateServiceProvider(Object containerBuilder)
   at Microsoft.Extensions.Hosting.HostBuilder.CreateServiceProvider()
   at Microsoft.Extensions.Hosting.HostBuilder.Build()
   at Program.<Main>$(String[] args) in D:\Programming\Cs\TelegramModularFramework\TelegramModularFramework.Sample\Program.cs:line 21
 ---> (Inner Exception #1) System.InvalidOperationException: Error while validating the service descriptor 'ServiceType: Microsoft.Extensions.Hosting.IHostedService Lifetime: Singleton ImplementationType: TelegramModularFramework.Sample.CommandHandler': Unable to resolve service for type 'TelegramModularFramework.Services.TelegramBotHostedService' while attempting to activate 'TelegramModularFramework.Services.TelegramCommandService'.
 ---> System.InvalidOperationException: Unable to resolve service for type 'TelegramModularFramework.Services.TelegramBotHostedService' while attempting to activate 'TelegramModularFramework.Services.TelegramCommandService'.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(Type serviceType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateArgumentCallSites(Type implementationType, CallSiteChain callSiteChain, ParameterInfo[] parameters, Boolean throwIfCallSiteNotFound)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.CreateConstructorCallSite(ResultCache lifetime, Type serviceType, Type implementationType, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.TryCreateExact(ServiceDescriptor descriptor, Type serviceType, CallSiteChain callSiteChain, Int32 slot)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteFactory.GetCallSite(ServiceDescriptor serviceDescriptor, CallSiteChain callSiteChain)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   --- End of inner exception stack trace ---
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.ValidateService(ServiceDescriptor descriptor)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider..ctor(ICollection`1 serviceDescriptors, ServiceProviderOptions options)<---

2022-10-28 11:22:18.341 +03:00 [INF] Starting host
2022-10-28 11:22:30.326 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 11:22:35.369 +03:00 [DBG] Executing test from SampleModule
2022-10-28 11:23:18.503 +03:00 [INF] Starting host
2022-10-28 11:23:20.818 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 11:23:21.203 +03:00 [DBG] Executing test from SampleModule
2022-10-28 11:30:55.159 +03:00 [INF] Starting host
2022-10-28 11:31:47.121 +03:00 [INF] Starting host
2022-10-28 11:31:49.508 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 11:31:51.271 +03:00 [DBG] Executing test from SampleModule
2022-10-28 11:32:06.345 +03:00 [DBG] Executing test from SampleModule
2022-10-28 11:42:08.169 +03:00 [INF] Starting host
2022-10-28 11:42:10.606 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 11:42:13.307 +03:00 [DBG] Executing test from SampleModule
2022-10-28 11:42:16.547 +03:00 [DBG] Executing test from SampleModule
2022-10-28 11:46:42.292 +03:00 [INF] Starting host
2022-10-28 11:46:44.695 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 11:46:45.139 +03:00 [DBG] Executing test from SampleModule
2022-10-28 11:47:21.513 +03:00 [INF] Starting host
2022-10-28 11:47:23.808 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 11:48:09.948 +03:00 [DBG] Executing info from SampleModule
2022-10-28 12:12:46.988 +03:00 [INF] Starting host
2022-10-28 12:12:49.492 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 12:12:49.945 +03:00 [DBG] Executing long from SampleModule
2022-10-28 12:12:55.464 +03:00 [DBG] Executing info from SampleModule
2022-10-28 12:12:58.340 +03:00 [DBG] Executing long from SampleModule
2022-10-28 12:13:03.674 +03:00 [DBG] Executing info from SampleModule
2022-10-28 12:13:04.075 +03:00 [DBG] Executing info from SampleModule
2022-10-28 12:17:14.068 +03:00 [INF] Starting host
2022-10-28 12:17:16.518 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 12:17:20.407 +03:00 [DBG] Executing info from SampleModule
2022-10-28 12:17:23.949 +03:00 [DBG] Executing long from SampleModule
2022-10-28 12:17:25.157 +03:00 [DBG] Executing info from SampleModule
2022-10-28 12:17:27.020 +03:00 [DBG] Executing info from SampleModule
2022-10-28 14:24:09.601 +03:00 [INF] Starting host
2022-10-28 14:24:11.609 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 14:24:20.244 +03:00 [DBG] Executing info from SampleModule
2022-10-28 14:24:22.965 +03:00 [DBG] Executing long from SampleModule
2022-10-28 14:24:24.254 +03:00 [DBG] Executing info from SampleModule
2022-10-28 14:27:09.460 +03:00 [INF] Starting host
2022-10-28 14:27:10.491 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 14:27:12.510 +03:00 [DBG] Executing long from SampleModule
2022-10-28 14:27:13.450 +03:00 [DBG] Executing info from SampleModule
2022-10-28 16:02:10.942 +03:00 [INF] Starting host
2022-10-28 16:02:12.175 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 16:02:39.586 +03:00 [INF] Starting host
2022-10-28 16:02:40.678 +03:00 [INF] Connected as weather_and_events_bot with id 5448859054
2022-10-28 16:02:51.154 +03:00 [DBG] Executing info from SampleModule
2022-10-28 16:02:58.965 +03:00 [DBG] Executing info from SampleModule
2022-10-28 16:03:07.057 +03:00 [DBG] Executing info from SampleModule
